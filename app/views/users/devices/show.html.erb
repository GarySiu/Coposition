<h1><%= @device.name %></h1>
<br>
<%= link_to("Delete history", redbox_checkin_path, { method: :delete, class: "btn btn-danger btn-lg m-m"  })%>
<%= link_to("Delete device", "#{user_devices_path}/#{@device.id}", { method: :delete, class: "btn btn-danger btn-lg m-m" })%>

<table class="table table-striped table-hover">
  <tr>
    <% Checkin.non_geocoded_keys(exception: "device_id").each do |key| %>
      <th>
        <%= key.titleize %>
      </th>
    <% end %>
    <th>
      Delete
    </th>
  </tr>
  <% @device.checkins.each do |checkin| %>
    <tr>
      <% checkin.non_geocoded_data(exception: "device_id").values.compact.each do |val| %>
        <td>
          <%= val %>
        </td>
      <% end %>
      <td>
        <button class="btn btn-danger">x</button>
      </td>
    </tr>  
  <% end %>
</table>